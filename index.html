<html>
  <head>

  </head>

  <body>

    <div class="main-container">

      <h1>Filter Events Demo</h1>

      <ul class="filter-list">
        <li>
          <label for="">
            <input name="one" type="checkbox" value="one" /> One
          </label>
        </li>
        <li>
          <label for="">
            <input name="two" type="checkbox" value="two" /> Two
          </label>
        </li>
        <li>
          <label for="">
            <input name="three" type="checkbox" value="three" /> Three
          </label>
        </li>
        <li>
          <label for="">
            <input name="four" type="checkbox" value="four" /> Four
          </label>
        </li>
      </ul>

      <hr />

      <h3>Messages</h3>
      <div class="message-list"></div>

    </div>

    <script src="jquery.min.js"></script>
    <script src="lodash.min.js"></script>
    <script src="app.js"></script>

    <script>

      (function($, demo) {

        $(start);

        // start and all it's glory should probably be moved to a high level app componet (one that maanages all the others)

        function start() {
          var list, filters, messageBus;

          list = buildMessageList();

          messageBus = demo.MessageBus();
          messageBus.subscribe('filters:updated', list, list.render);

          filters = buildFilterList(messageBus);
        }

        function buildMessageList() {
          return demo.MessageList({
            view: $('.message-list'),
            dom: $
          });
        }

        function buildFilterList(messageBus) {
          return demo.FilterList({
            view: $('.filter-list'),
            dom: $
          }, messageBus);
        }

      })(jQuery, demo);

    </script>
  </body>
</html>
